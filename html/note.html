<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ó–∞–ø–∏—Å–∏</title>
  <link rel="icon" type="image/png" href="../imgs/favicon.ico">
  <link href="https://fonts.cdnfonts.com/css/bauhaus-93" rel="stylesheet">
  <link rel="stylesheet" href="../css/note.css">
  <link rel="stylesheet" href="../css/button.css">
  <link rel="stylesheet" href="../css/header.css">
</head>
<body>
<header>
  <div class="header-container">
    <p class="journal-text" data-header-workspace > journal </p>
    <button class="button" data-header-chats >–ß–∞—Ç—ã</button>
    <button class="button" data-header-notes >–ó–∞–ø–∏—Å–∏</button>
    <button class="button" data-header-profile>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</button>
  </div>
</header>

<div class="notes-page">
  <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –°–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π -->
  <div class="notes-sidebar">
    <h2>–ú–æ–∏ –∑–∞–ø–∏—Å–∏</h2>
    <div class="notes-list">
      <div class="note-item">
        <h3>–ò–¥–µ–∏ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞</h3>
        <p class="note-date">2023-10-01</p>
        <p class="note-description">–ó–∞–º–µ—Ç–∫–∏ –æ –Ω–æ–≤—ã—Ö –∏–¥–µ—è—Ö –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.</p>
      </div>
      <div class="note-item">
        <h3>–ü–ª–∞–Ω –Ω–∞ –Ω–µ–¥–µ–ª—é</h3>
        <p class="note-date">2023-10-05</p>
        <p class="note-description">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á –Ω–∞ –Ω–µ–¥–µ–ª—é.</p>
      </div>
    </div>
    <button class="button" onclick="addNote()">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
  </div>

  <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –†–µ–¥–∞–∫—Ç–æ—Ä –∑–∞–ø–∏—Å–∏ -->
  <div class="notes-editor">
    <h2 id="editor-title">–í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–ø–∏—Å—å</h2>
    <div class="toolbar">
      <button class="toolbar-button" onclick="formatText('bold')"><b>B</b></button>
      <button class="toolbar-button" onclick="formatText('italic')"><i>I</i></button>
      <button class="toolbar-button" onclick="formatText('underline')"><u>U</u></button>
      <button class="toolbar-button" onclick="insertImage()">üì∑</button>
      <button class="toolbar-button" onclick="insertLink()">üîó</button>
      <button class="toolbar-button" onclick="clearFormatting()">‚ùå</button>
    </div>
    <div id="note-content" contenteditable="true">
      <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∑–∞–ø–∏—Å–∏ -->
    </div>
    <div class="editor-buttons">
      <button class="button" onclick="saveNote()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      <button class="button delete-button" onclick="deleteNote()">–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
    </div>
  </div>
</div>

<script>

  openPage = (url) => {
    window.location.href = url;
  }

  const profile = document.querySelector('[data-header-profile]');
  const chats = document.querySelector('[data-header-chats]');
  const note = document.querySelector('[data-header-notes]');
  const workspace = document.querySelector('[data-header-workspace]');

  profile.addEventListener('click', function() {
    window.location.href = `../html/profile.html`;
  });

  chats.addEventListener('click', function() {
    window.location.href = `../html/chats.html`;
  });

  note.addEventListener('click', function() {
    window.location.href = `../html/note.html`;
  });

  workspace.addEventListener('click', function() {
    window.location.href = `../html/workspace.html`;
  });

  let notes = [
    {
      id: 1,
      title: "–ò–¥–µ–∏ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞",
      date: "2023-10-01",
      description: "–ó–∞–º–µ—Ç–∫–∏ –æ –Ω–æ–≤—ã—Ö –∏–¥–µ—è—Ö –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.",
      content: "<p>1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–º–µ—Ç–æ–∫.</p><p>2. –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.</p>"
    },
    {
      id: 2,
      title: "–ü–ª–∞–Ω –Ω–∞ –Ω–µ–¥–µ–ª—é",
      date: "2023-10-05",
      description: "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á –Ω–∞ –Ω–µ–¥–µ–ª—é.",
      content: "<p>–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: –ó–∞–≤–µ—Ä—à–∏—Ç—å –≤–µ—Ä—Å—Ç–∫—É.</p><p>–í—Ç–æ—Ä–Ω–∏–∫: –ù–∞–ø–∏—Å–∞—Ç—å API.</p>"
    },
    {
      id: 3,
      title: "–ö–Ω–∏–≥–∏ –¥–ª—è –ø—Ä–æ—á—Ç–µ–Ω–∏—è",
      date: "2023-10-10",
      description: "–°–ø–∏—Å–æ–∫ –∫–Ω–∏–≥, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å.",
      content: "<p>1. '–ß–∏—Å—Ç—ã–π –∫–æ–¥' –†–æ–±–µ—Ä—Ç –ú–∞—Ä—Ç–∏–Ω.</p><p>2. 'JavaScript: –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã' –î—É–≥–ª–∞—Å –ö—Ä–æ–∫—Ñ–æ—Ä–¥.</p>"
    }
  ]; // –ú–∞—Å—Å–∏–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π
  let currentNoteId = null; // ID —Ç–µ–∫—É—â–µ–π –∑–∞–ø–∏—Å–∏

  // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–ø–∏—Å–µ–π –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  document.addEventListener('DOMContentLoaded', () => {
    loadNotes();
  });

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–ø–∏—Å–µ–π
  function loadNotes() {
    const notesList = document.querySelector('.notes-list');
    notesList.innerHTML = '';
    notes.forEach((note) => {
      const noteElement = document.createElement('div');
      noteElement.className = 'note-item';
      noteElement.innerHTML = `
                    <h3>${note.title}</h3>
                    <p class="note-date">${note.date}</p>
                    <p class="note-description">${note.description}</p>
                `;
      noteElement.addEventListener('click', () => openNote(note.id));
      notesList.appendChild(noteElement);
    });
  }

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –∑–∞–ø–∏—Å–∏
  function openNote(id) {
    const note = notes.find(n => n.id === id);
    if (note) {
      currentNoteId = id;
      document.getElementById('editor-title').textContent = note.title;
      document.getElementById('note-content').innerHTML = note.content;
    }
  }

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏
  function addNote() {
    const newNote = {
      id: notes.length + 1,
      title: `–ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å ${notes.length + 1}`,
      date: new Date().toISOString().split('T')[0],
      description: "–û–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏.",
      content: "<p>–ù–∞—á–Ω–∏—Ç–µ –ø–∏—Å–∞—Ç—å –∑–¥–µ—Å—å...</p>"
    };
    notes.push(newNote);
    loadNotes();
    openNote(newNote.id); // –û—Ç–∫—Ä—ã–≤–∞–µ–º –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å
  }

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏
  function saveNote() {
    if (currentNoteId !== null) {
      const note = notes.find(n => n.id === currentNoteId);
      if (note) {
        note.content = document.getElementById('note-content').innerHTML;
        alert('–ó–∞–ø–∏—Å—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!');
      }
    }
  }

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏
  function deleteNote() {
    if (currentNoteId !== null) {
      notes = notes.filter(n => n.id !== currentNoteId);
      currentNoteId = null;
      loadNotes();
      document.getElementById('editor-title').textContent = '–í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–ø–∏—Å—å';
      document.getElementById('note-content').innerHTML = '';
    }
  }

  // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–µ–∫—Å—Ç–æ–º
  function formatText(command) {
    document.execCommand(command, false, null);
  }

  function insertImage() {
    const url = prompt('–í–≤–µ–¥–∏—Ç–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:');
    if (url) {
      document.execCommand('insertImage', false, url);
    }
  }

  function insertLink() {
    const url = prompt('–í–≤–µ–¥–∏—Ç–µ URL —Å—Å—ã–ª–∫–∏:');
    if (url) {
      document.execCommand('createLink', false, url);
    }
  }

  function clearFormatting() {
    document.execCommand('removeFormat', false, null);
  }
</script>
</body>
</html>